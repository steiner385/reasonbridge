# E2E Testing Infrastructure

This branch implements production-like E2E testing with Docker Compose.
E2E testing with correct port configuration (9080 on Jenkins, 8080 locally)

## E2E Database Setup

The E2E environment requires database migrations and seed data:

1. **Migrations**: Apply Prisma schema to the E2E postgres database
2. **Seed Data**: Populate with test users, topics, and responses

### Running Database Setup

```bash
# Setup database (migrations + seed data)
./scripts/setup-e2e-database.sh

# Or manually:
cd packages/db-models
DATABASE_URL="postgresql://unite_test:unite_test@localhost:5433/unite_test" npx prisma migrate deploy
DATABASE_URL="postgresql://unite_test:unite_test@localhost:5433/unite_test" node prisma/seed.js
```

### Test Data Created

- **Users**: 2 test users (basic and verified levels)
- **Topics**: 3 discussion topics (renewable energy, UBI, remote work)
- **Responses**: 2 test responses with threading

### E2E Test Results

After database setup:

- **245 tests passing** (all active tests)
- **56 tests skipped** (require authentication/additional features)

The skipped tests require AWS Cognito integration for user registration/login flows.
