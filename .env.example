# =============================================================================
# reasonBridge Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# =============================================================================
# Application
# =============================================================================
NODE_ENV=development
LOG_LEVEL=debug

# =============================================================================
# Discord Bot
# =============================================================================
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_GUILD_ID=your_test_guild_id_here

# =============================================================================
# PostgreSQL Database
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=unite
POSTGRES_PASSWORD=localdev
POSTGRES_DB=unite_discord

# Connection URL (constructed from above, or override directly)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# Redis Cache
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# =============================================================================
# LocalStack (AWS Emulation for S3, Cognito, etc.)
# =============================================================================
LOCALSTACK_HOST=localhost
LOCALSTACK_PORT=4566
LOCALSTACK_DEBUG=0

# AWS SDK configuration
# For LocalStack emulation (local development):
#   AWS_ENDPOINT_URL=http://${LOCALSTACK_HOST}:${LOCALSTACK_PORT}
#   AWS_ACCESS_KEY_ID=test
#   AWS_SECRET_ACCESS_KEY=test
# For real AWS services (production/CI):
#   Obtain credentials from AWS IAM or use instance profiles
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1

# =============================================================================
# AWS Bedrock (AI Services)
# =============================================================================
# Bedrock is enabled via Jenkins shared library (withAwsCredentials)
# These variables are injected automatically during CI/CD:
#   - BEDROCK_ENABLED=true
#   - BEDROCK_DEFAULT_MODEL (Claude 3.5 Haiku)
#   - BEDROCK_MODEL_HAIKU (Claude 3.5 Haiku)
#   - BEDROCK_MODEL_SONNET (Claude 3.5 Sonnet)
#   - BEDROCK_MODEL_OPUS (Claude Opus 4.5)
#
# For local development, you can set:
BEDROCK_DEFAULT_MODEL=us.anthropic.claude-3-5-haiku-20241022-v1:0
BEDROCK_MODEL_HAIKU=us.anthropic.claude-3-5-haiku-20241022-v1:0
BEDROCK_MODEL_SONNET=us.anthropic.claude-3-5-sonnet-20241022-v2:0
BEDROCK_MODEL_OPUS=us.anthropic.claude-opus-4-5-20251101-v1:0

# =============================================================================
# AWS Cognito (Authentication)
# =============================================================================
# Cognito User Pool ID (obtain from AWS Console or CDK outputs)
COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX
# Cognito Client ID (obtain from AWS Console or CDK outputs)
COGNITO_CLIENT_ID=your_client_id_here
# Cognito AWS Region
COGNITO_REGION=us-east-1

# OAuth Provider Configuration
# Google OAuth (obtain from Google Cloud Console)
GOOGLE_OAUTH_CLIENT_ID=your_google_client_id_here
GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Apple Sign In (obtain from Apple Developer Portal)
APPLE_SERVICE_ID=your_apple_service_id_here
APPLE_TEAM_ID=your_apple_team_id_here
APPLE_KEY_ID=your_apple_key_id_here
APPLE_PRIVATE_KEY_PATH=./config/apple-auth-key.p8
APPLE_REDIRECT_URI=http://localhost:3000/auth/apple/callback

# JWT Configuration
JWT_SECRET=your_jwt_secret_here_change_in_production
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# =============================================================================
# API Keys (Optional Features)
# =============================================================================
# OpenAI API key for AI moderation features
# OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# Demo Environment
# =============================================================================
# Enable demo mode for seeding demo personas and data
DEMO_MODE=false

# Demo database (can use same as development or separate)
# DEMO_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/reasonbridge_demo

# Demo seed configuration
DEMO_SEED_TIMESTAMP_MAX_AGE_DAYS=30
DEMO_SEED_TIMESTAMP_RECENT_WEIGHT=0.7

# =============================================================================
# Test Environment Overrides
# =============================================================================
# These are used by docker-compose.test.yml
# TEST_POSTGRES_PORT=5433
# TEST_REDIS_PORT=6380
# TEST_LOCALSTACK_PORT=4567
